<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>🐬Vue 2.0 基础 | XChi的个人网站</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/favicon.ico">
    <script>
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "https://hm.baidu.com/hm.js?2675818a983a3131404cee835018f016";
          var s = document.getElementsByTagName("script")[0]; 
          s.parentNode.insertBefore(hm, s);
        })();
      </script>
    <meta name="description" content="这是我网站的描述">
    <meta property="article:modified_time" content="2025-08-03T15:17:24.000Z">
    <meta property="og:site_name" content="XChi的个人网站">
    <meta property="og:title" content="🐬Vue 2.0 基础">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://XieChi0.github.io//docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html">
    <meta name="twitter:title" content="🐬Vue 2.0 基础">
    <meta name="twitter:url" content="https://XieChi0.github.io//docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="程序员, 编程, 博客">
    <meta property="article:tag" content="程序员">
    <meta name="keywords" content="谢池的网站简介,A,B">
    
    <link rel="preload" href="/assets/css/0.styles.4c640a58.css" as="style"><link rel="preload" href="/assets/js/app.d48fd230.js" as="script"><link rel="preload" href="/assets/js/4.2885dd4c.js" as="script"><link rel="preload" href="/assets/js/2.29672e38.js" as="script"><link rel="preload" href="/assets/js/32.0d1a3ea0.js" as="script"><link rel="preload" href="/assets/js/1.7d544257.js" as="script"><link rel="prefetch" href="/assets/js/12.0e8f31db.js"><link rel="prefetch" href="/assets/js/13.6c3e4155.js"><link rel="prefetch" href="/assets/js/14.f9e34256.js"><link rel="prefetch" href="/assets/js/15.ab742cf9.js"><link rel="prefetch" href="/assets/js/16.efc378e4.js"><link rel="prefetch" href="/assets/js/17.d0947951.js"><link rel="prefetch" href="/assets/js/18.f6f5993f.js"><link rel="prefetch" href="/assets/js/19.242bad38.js"><link rel="prefetch" href="/assets/js/20.ac0c9c21.js"><link rel="prefetch" href="/assets/js/21.295eea1a.js"><link rel="prefetch" href="/assets/js/22.7f23e759.js"><link rel="prefetch" href="/assets/js/23.ce13e51e.js"><link rel="prefetch" href="/assets/js/24.c382169c.js"><link rel="prefetch" href="/assets/js/25.cd186d9b.js"><link rel="prefetch" href="/assets/js/26.4e699abb.js"><link rel="prefetch" href="/assets/js/27.7fc412cb.js"><link rel="prefetch" href="/assets/js/28.cf5ffd0f.js"><link rel="prefetch" href="/assets/js/29.877b3cf2.js"><link rel="prefetch" href="/assets/js/3.5fed3d15.js"><link rel="prefetch" href="/assets/js/30.36859c08.js"><link rel="prefetch" href="/assets/js/31.8559c651.js"><link rel="prefetch" href="/assets/js/33.bb218986.js"><link rel="prefetch" href="/assets/js/34.f6c4b9c5.js"><link rel="prefetch" href="/assets/js/35.e488b6cc.js"><link rel="prefetch" href="/assets/js/36.d9445f92.js"><link rel="prefetch" href="/assets/js/37.22738096.js"><link rel="prefetch" href="/assets/js/38.2e3c90f7.js"><link rel="prefetch" href="/assets/js/39.fec0b1e8.js"><link rel="prefetch" href="/assets/js/40.0ff4ece6.js"><link rel="prefetch" href="/assets/js/41.7d0eb54b.js"><link rel="prefetch" href="/assets/js/42.d8049a9f.js"><link rel="prefetch" href="/assets/js/43.205641f9.js"><link rel="prefetch" href="/assets/js/5.25152b6a.js"><link rel="prefetch" href="/assets/js/6.bf2affab.js"><link rel="prefetch" href="/assets/js/7.f38f4e1b.js"><link rel="prefetch" href="/assets/js/8.636e85ef.js"><link rel="prefetch" href="/assets/js/9.1e2728ee.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.22cb3487.js">
    <link rel="stylesheet" href="/assets/css/0.styles.4c640a58.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="https://s1.imagehub.cc/images/2024/11/27/0ead02493a39c5b0e7a6333222bb3a35.th.jpg" alt="XChi的个人网站" class="logo"> <span class="site-name can-hide">XChi的个人网站</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="基本功" class="dropdown-title"><span class="title">基本功</span> <span class="arrow down"></span></button> <button type="button" aria-label="基本功" class="mobile-dropdown-title"><span class="title">基本功</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/基本功/数据结构/ds.html" class="nav-link">
  数据结构
</a></li><li class="dropdown-item"><!----> <a href="/docs/基本功/C++/C++.html" class="nav-link">
  C++
</a></li><li class="dropdown-item"><!----> <a href="/docs/基本功/算法/" class="nav-link">
  算法
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/前端/HTML/html篇.html" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/docs/前端/CSS/css篇.html" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/docs/前端/JavaScript/js篇.html" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/docs/前端/Vue/vue篇.html" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/docs/前端/Axios及其他/其他技术篇.html" class="nav-link">
  Axios及其他
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><span class="title">框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="框架" class="mobile-dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/框架/Nodejs/nodejs篇.html" class="nav-link">
  Nodejs
</a></li><li class="dropdown-item"><!----> <a href="/docs/框架/Electron/electron篇.html" class="nav-link">
  Electron
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="业务" class="dropdown-title"><span class="title">业务</span> <span class="arrow down"></span></button> <button type="button" aria-label="业务" class="mobile-dropdown-title"><span class="title">业务</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/业务/sw/sw.html" class="nav-link">
  sw
</a></li><li class="dropdown-item"><!----> <a href="/docs/业务/st/st.html" class="nav-link">
  st
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="基本功" class="dropdown-title"><span class="title">基本功</span> <span class="arrow down"></span></button> <button type="button" aria-label="基本功" class="mobile-dropdown-title"><span class="title">基本功</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/基本功/数据结构/ds.html" class="nav-link">
  数据结构
</a></li><li class="dropdown-item"><!----> <a href="/docs/基本功/C++/C++.html" class="nav-link">
  C++
</a></li><li class="dropdown-item"><!----> <a href="/docs/基本功/算法/" class="nav-link">
  算法
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/前端/HTML/html篇.html" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/docs/前端/CSS/css篇.html" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/docs/前端/JavaScript/js篇.html" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/docs/前端/Vue/vue篇.html" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/docs/前端/Axios及其他/其他技术篇.html" class="nav-link">
  Axios及其他
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><span class="title">框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="框架" class="mobile-dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/框架/Nodejs/nodejs篇.html" class="nav-link">
  Nodejs
</a></li><li class="dropdown-item"><!----> <a href="/docs/框架/Electron/electron篇.html" class="nav-link">
  Electron
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="业务" class="dropdown-title"><span class="title">业务</span> <span class="arrow down"></span></button> <button type="button" aria-label="业务" class="mobile-dropdown-title"><span class="title">业务</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/业务/sw/sw.html" class="nav-link">
  sw
</a></li><li class="dropdown-item"><!----> <a href="/docs/业务/st/st.html" class="nav-link">
  st
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>🐬Vue 2.0 基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#🐬vue-2-0-基础" class="sidebar-link">🐬Vue 2.0 基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#什么是mvvm模式" class="sidebar-link">什么是MVVM模式？</a></li><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#vue理解" class="sidebar-link">Vue理解</a></li><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#一个完整的生命周期" class="sidebar-link" style="padding-left:3rem;">一个完整的生命周期</a></li><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#_1-什么是-vue-实例" class="sidebar-link" style="padding-left:3rem;">1. 什么是 Vue 实例？</a></li><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#_2-创建-vue-实例" class="sidebar-link" style="padding-left:3rem;">2. 创建 Vue 实例</a></li><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#_3-vue-实例的创建过程" class="sidebar-link" style="padding-left:3rem;">3. Vue 实例的创建过程</a></li><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#_1-初始化-vue-实例" class="sidebar-link" style="padding-left:3rem;">1) 初始化 Vue 实例</a></li><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#_2-响应式系统的创建" class="sidebar-link" style="padding-left:3rem;">2) 响应式系统的创建</a></li><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#_3-编译模板" class="sidebar-link" style="padding-left:3rem;">3) 编译模板</a></li><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#_4-vue-实例挂载和渲染" class="sidebar-link" style="padding-left:3rem;">4. Vue 实例挂载和渲染</a></li><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#_1-挂载过程" class="sidebar-link" style="padding-left:3rem;">1) 挂载过程</a></li><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#_2-渲染-render" class="sidebar-link" style="padding-left:3rem;">2) 渲染（Render）</a></li><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#初次渲染" class="sidebar-link" style="padding-left:4rem;">初次渲染：</a></li><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#_3-响应式更新" class="sidebar-link" style="padding-left:3rem;">3) 响应式更新</a></li><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#_5-完整的生命周期" class="sidebar-link" style="padding-left:3rem;">5. 完整的生命周期</a></li><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#_6-总结-vue-实例的诞生过程" class="sidebar-link" style="padding-left:3rem;">6. 总结 Vue 实例的诞生过程</a></li><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#组件化" class="sidebar-link">组件化</a></li><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#实际基本介绍" class="sidebar-link">实际基本介绍</a></li><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#安装与引入" class="sidebar-link" style="padding-left:3rem;">安装与引入</a></li><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#💭根据代码继续基本理解" class="sidebar-link" style="padding-left:3rem;">💭根据代码继续基本理解</a></li><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#methods-computed" class="sidebar-link" style="padding-left:3rem;">methods/computed</a></li><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#侦听器watch" class="sidebar-link">侦听器watch</a></li></ul></li><li><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#👧🏽渲染指令" class="sidebar-link">👧🏽渲染指令</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#v-text" class="sidebar-link">v-text</a></li><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#v-html" class="sidebar-link">v-html</a></li><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#v-if-v-show" class="sidebar-link">v-if/v-show</a></li><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#v-for" class="sidebar-link">v-for</a></li></ul></li><li><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#👧🏽属性指令" class="sidebar-link">👧🏽属性指令</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#v-bind" class="sidebar-link">v-bind</a></li><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#动态类名绑定" class="sidebar-link">动态类名绑定</a></li></ul></li><li><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#👧🏽事件指令" class="sidebar-link">👧🏽事件指令</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#v-on" class="sidebar-link">v-on</a></li><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#v-model" class="sidebar-link">v-model</a></li></ul></li><li><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#🐬vue2-0-组件基础" class="sidebar-link">🐬Vue2.0 组件基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#简单终端指令" class="sidebar-link">简单终端指令</a></li><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#目录结构理解" class="sidebar-link">目录结构理解</a></li><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#组件通信" class="sidebar-link">组件通信</a></li><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#单文件组件结构" class="sidebar-link" style="padding-left:3rem;">单文件组件结构</a></li><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#父传子" class="sidebar-link" style="padding-left:3rem;">父传子</a></li><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#子传父" class="sidebar-link" style="padding-left:3rem;">子传父</a></li><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#组件插槽" class="sidebar-link">组件插槽</a></li><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#默认插槽" class="sidebar-link" style="padding-left:3rem;">默认插槽</a></li><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#具名插槽" class="sidebar-link" style="padding-left:3rem;">具名插槽</a></li><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#作用域插槽" class="sidebar-link" style="padding-left:3rem;">作用域插槽</a></li></ul></li><li><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#🐬vuerouter" class="sidebar-link">🐬VueRouter</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#💭前置理解" class="sidebar-link">💭前置理解</a></li><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#💭详解语句代码" class="sidebar-link">💭详解语句代码</a></li><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#重点理解" class="sidebar-link" style="padding-left:3rem;">重点理解</a></li><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#新建组件配置路由" class="sidebar-link">新建组件配置路由</a></li><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#动态路由" class="sidebar-link">动态路由</a></li><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#嵌套路由" class="sidebar-link">嵌套路由</a></li><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#编程式导航" class="sidebar-link">编程式导航</a></li><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#路由传参与导航守卫" class="sidebar-link">路由传参与导航守卫</a></li><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#区分两种动态路由参数和查询传参" class="sidebar-link" style="padding-left:3rem;">区分两种动态路由参数和查询传参</a></li><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#导航守卫" class="sidebar-link" style="padding-left:3rem;">导航守卫</a></li></ul></li><li><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#🐬vuex" class="sidebar-link">🐬Vuex</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#基本用法" class="sidebar-link">基本用法</a></li><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#state" class="sidebar-link">state</a></li><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#mutations" class="sidebar-link">mutations</a></li><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#actions" class="sidebar-link">actions</a></li><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#getters" class="sidebar-link">getters</a></li><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#modules" class="sidebar-link">modules</a></li><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#小应用-涉及map知识点" class="sidebar-link">小应用（涉及map知识点）</a></li><li class="sidebar-sub-header"><a href="/docs/%E5%89%8D%E7%AB%AF/Vue/vue%E7%AF%87.html#map" class="sidebar-link" style="padding-left:3rem;">map</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="content"><div style="width:100%"><div class="theme-default-content custom-content content__default"><h2 id="🐬vue-2-0-基础"><a href="#🐬vue-2-0-基础" class="header-anchor">#</a> 🐬Vue 2.0 基础</h2> <h3 id="什么是mvvm模式"><a href="#什么是mvvm模式" class="header-anchor">#</a> 什么是MVVM模式？</h3> <p>MVVM（Model-View-ViewModel）是一种软件架构设计模式，核心是 **ViewModel **层 ，负责转换 Model 中的数据对象来让数据变得更容易管理和使用。该层向上与视图层进行双向数据绑定，向下与 Model 层通过接口请求进行数据交互。</p> <p><img alt="image 20241008094620300" data-src="https://s1.imagehub.cc/images/2024/11/25/1c1ea7c41b933de70655e3aa4ea9133a.png" loading="lazy" class="lazy"></p> <p>为什么要使用 MVVM？</p> <p>MVVM 模式和 MVC 模式一样，主要目的是分离视图（View）和模型（Model），有几大好处</p> <ul><li>减少了大量DOM操作编写，可以更加专注逻辑操作。</li> <li>分离数据和界面的呈现，降低了代码耦合度。</li> <li>支持组件化开发，更利于中大型项目的代码组织。</li></ul> <p>MVVM</p> <blockquote><ul><li><p>Model：模型层，在这里表示 JavaScript 对象</p></li> <li><p>View：视图层，在这里表示 DOM（HTML 操作的元素）</p></li> <li><p>ViewModel：连接视图和数据的中间件，Vue.js 就是 MVVM 中的 ViewModel 层的实现者</p></li></ul></blockquote> <p><img alt="image 20241008095742157" data-src="https://s1.imagehub.cc/images/2024/11/25/33ac1d28c249ae3451db0f959a08ceea.png" loading="lazy" class="lazy"></p> <blockquote><blockquote><p>View 是视图层，也就是用户界面。前端主要由 HTML 和 CSS 来构建。</p> <p>Model 是指数据模型，泛指后端进行的各种业务逻辑处理和数据操控，主要围绕数据库系统展开。这里的难点主要在于需要和前端约定统一的 接口规则</p> <p>ViewModel 是由前端开发人员组织生成和维护的视图数据层。在这一层，前端开发者对从后端获取的 Model 数据进行转换处理，做二次封装，以生成符合 View 层使用预期的视图数据模型。</p></blockquote></blockquote> <p>ViewModel功能</p> <p>在 MVVM 架构中，是不允许 数据和视图 直接通信的，只能通过 ViewModel 来通信，而 ViewModel 就是定义了一个 Observer 观察者，ViewModel 能够观察到数据的变化，并对视图对应的内容进行更新。至此，我们就明白了，Vue.js 就是一个 MVVM 的实现者，他的核心就是实现了 DOM 监听与数据绑定。</p> <p>ViewModel注意以及总结</p> <p>需要注意的是 ViewModel 所封装出来的数据模型包括视图的状态和行为两部分，而 Model 层的数据模型是只包含状态的。视图状态和行为都封装在了 ViewModel 里。这样的封装使得 ViewModel 可以完整地去描述 View 层。</p> <p>由于实现了双向绑定，ViewModel 的内容会实时展现在 View 层，这是激动人心的，因为前端开发者再也不必低效又麻烦地通过操纵 DOM 去更新视图。 MVVM 框架已经把最脏最累的一块做好了，我们开发者只需要处理和维护 ViewModel，更新数据视图就会自动得到相应更新，真正实现事件驱动编程 。</p> <p>View 层展现的不是 Model 层的数据，而是 ViewModel 的数据，由 ViewModel 负责与 Model 层交 互，这就完全解耦了 View 层和 Model 层，这个解耦是至关重要的，它是前后端分离方案实施的重要一 环。</p> <blockquote><p>解释视图的状态与行为：</p> <p>比如页面的这一块展示什么，那一块展示什么这些都属于视图状态（展示）</p> <p>页面加载进来时发生什么，点击这一块发生什么，这一块滚动时发生什么这些都属于视图行为（交互）</p></blockquote> <h3 id="vue理解"><a href="#vue理解" class="header-anchor">#</a> Vue理解</h3> <p>Vue是一套用于构建用户界面的渐进式框架，Vue 被设计为可以自底向上逐层应用。Vue 的核心库只关注视图层，不仅易于上手，还便于与第三方库 （如： vue-router ， vue-resource ， vuex ）或既有项目整合。</p> <h4 id="一个完整的生命周期"><a href="#一个完整的生命周期" class="header-anchor">#</a> 一个完整的生命周期</h4> <p>要理解 Vue 实例的诞生和渲染过程，让我们从头开始，分解成几个简单的步骤。作为一个小白，这会帮助你逐步建立对 Vue.js 工作原理的认识。</p> <h4 id="_1-什么是-vue-实例"><a href="#_1-什么是-vue-实例" class="header-anchor">#</a> 1. <strong>什么是 Vue 实例？</strong></h4> <p>Vue 实例是 Vue 应用的核心部分。你可以把它看作是一个“控制中心”，它负责管理数据、模板渲染、事件处理等功能。我们创建一个 Vue 实例来管理页面中的某个部分，并让这个部分的数据和视图保持同步。</p> <h4 id="_2-创建-vue-实例"><a href="#_2-创建-vue-实例" class="header-anchor">#</a> 2. <strong>创建 Vue 实例</strong></h4> <p>要创建一个 Vue 实例，首先需要写一点 JavaScript 代码。以下是创建一个简单 Vue 实例的基本步骤：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>javascript复制代码var vm = new Vue({
  el: '#app',    // 1. 挂载点，Vue 实例控制的 DOM 元素
  data: {        // 2. 响应式数据
    message: 'Hello, Vue!'
  },
  methods: {     // 3. 方法，用于处理事件
    sayHello() {
      alert(this.message);
    }
  }
});
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ul><li><strong><code>el</code></strong> 是挂载点，它决定了 Vue 实例会控制页面上的哪个元素（如 <code>&lt;div id=&quot;app&quot;&gt;</code>）。</li> <li><strong><code>data</code></strong> 定义了实例中要管理的数据，比如 <code>message</code>，Vue 实例会自动处理它的变化。</li> <li><strong><code>methods</code></strong> 是事件处理函数，当用户与页面交互（如点击按钮）时，Vue 可以调用这些方法。</li></ul> <h4 id="_3-vue-实例的创建过程"><a href="#_3-vue-实例的创建过程" class="header-anchor">#</a> 3. <strong>Vue 实例的创建过程</strong></h4> <h4 id="_1-初始化-vue-实例"><a href="#_1-初始化-vue-实例" class="header-anchor">#</a> 1) <strong>初始化 Vue 实例</strong></h4> <p>当我们调用 <code>new Vue({...})</code> 时，Vue 实例会开始初始化。这个初始化包括：</p> <ul><li><strong>处理 <code>el</code> 和 <code>data</code> 选项</strong>：Vue 会找到页面上与 <code>el</code> 选择器对应的元素，并准备好数据（如 <code>message</code>）。</li> <li><strong>代理数据</strong>：Vue 实例会代理 <code>data</code> 中的每一个属性，也就是说你可以直接通过 <code>vm.message</code> 来访问 <code>message</code>，而不是 <code>vm.data.message</code>。</li></ul> <h4 id="_2-响应式系统的创建"><a href="#_2-响应式系统的创建" class="header-anchor">#</a> 2) <strong>响应式系统的创建</strong></h4> <p>Vue 实例通过响应式系统将 <code>data</code> 中的每个属性变成响应式的。什么意思呢？当你修改 <code>data</code> 中的某个属性时（例如修改 <code>message</code> 的内容），Vue 会自动检测到变化，并更新页面中的显示内容。这就是 Vue 的强大之处：<strong>自动更新视图</strong>。</p> <h4 id="_3-编译模板"><a href="#_3-编译模板" class="header-anchor">#</a> 3) <strong>编译模板</strong></h4> <p>Vue 会将页面中通过 <code>{{}}</code> 插值表达式使用的数据和 <code>data</code> 进行绑定。例如，如果你的模板中有 <code></code>，Vue 会将 <code>message</code> 的值插入到页面的这个位置。这个过程称为 <strong>模板编译</strong>，它将你写的模板与数据绑定，生成可以被浏览器展示的 HTML 内容。</p> <h4 id="_4-vue-实例挂载和渲染"><a href="#_4-vue-实例挂载和渲染" class="header-anchor">#</a> 4. <strong>Vue 实例挂载和渲染</strong></h4> <h4 id="_1-挂载过程"><a href="#_1-挂载过程" class="header-anchor">#</a> 1) <strong>挂载过程</strong></h4> <p>当 Vue 实例完成初始化并准备好数据后，它会将自己的模板渲染到页面的指定元素上，也就是 <code>el</code> 中指定的挂载点（例如 <code>&lt;div id=&quot;app&quot;&gt;</code>）。这一过程被称为 <strong>挂载</strong>。</p> <ul><li><strong>beforeMount</strong> 钩子函数：Vue 在将模板挂载到 DOM 之前会调用这个钩子函数。</li> <li><strong>mounted</strong> 钩子函数：当模板已经成功挂载到 DOM 上时，这个钩子函数会被调用。</li></ul> <h4 id="_2-渲染-render"><a href="#_2-渲染-render" class="header-anchor">#</a> 2) <strong>渲染（Render）</strong></h4> <p>渲染是指将 Vue 实例的模板内容和数据结合起来，生成最终的页面内容，并将其显示在浏览器上。渲染的过程中，Vue 会将数据插入到模板中（如 <code></code>），并生成 HTML 来更新页面。</p> <h5 id="初次渲染"><a href="#初次渲染" class="header-anchor">#</a> 初次渲染：</h5> <p>在 Vue 实例首次挂载时，会进行初次渲染。Vue 会解析模板并将 <code>data</code> 中的数据显示在页面上。比如：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;div id=&quot;app&quot;&gt;
  &lt;p&gt;{{ message }}&lt;/p&gt;  &lt;!-- 初次渲染时，{{ message }} 会被替换为 &quot;Hello, Vue!&quot; --&gt;
&lt;/div&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>这意味着页面上 <code>&lt;p&gt;</code> 标签中的 <code></code> 会被替换为 <code>Hello, Vue!</code>，这是 Vue 的初次渲染。</p> <h4 id="_3-响应式更新"><a href="#_3-响应式更新" class="header-anchor">#</a> 3) <strong>响应式更新</strong></h4> <p>当你修改 <code>data</code> 中的某个值时（例如 <code>vm.message = 'Hello, World!'</code>），Vue 会自动更新页面中使用到 <code>message</code> 的所有地方。这被称为 <strong>响应式更新</strong>，也是 Vue 的核心功能。</p> <ul><li>Vue 会通过一个轻量级的 <strong>虚拟 DOM</strong> 来跟踪哪些部分的页面需要更新，只有发生变化的部分会被重新渲染，其他部分保持不变。</li></ul> <h4 id="_5-完整的生命周期"><a href="#_5-完整的生命周期" class="header-anchor">#</a> 5. <strong>完整的生命周期</strong></h4> <p>Vue 实例从创建到销毁，经历了以下几个重要的生命周期阶段：</p> <ul><li><strong>beforeCreate</strong>：实例初始化之前调用，你还不能访问 <code>data</code> 和 <code>methods</code>。</li> <li><strong>created</strong>：实例初始化完成，<code>data</code> 和 <code>methods</code> 已经可以使用，但还没有开始渲染页面。</li> <li><strong>beforeMount</strong>：实例挂载之前调用，模板还没有渲染到页面上。</li> <li><strong>mounted</strong>：实例挂载完成，模板已经渲染到页面上。（指的是DOM已经全部加载完毕（但不保证网络请求渲染的数据也加载完毕））</li> <li><strong>beforeUpdate</strong>：当响应式数据更新之前调用。</li> <li><strong>updated</strong>：响应式数据更新之后调用，页面上的视图已经被重新渲染。</li> <li><strong>beforeDestroy</strong>：实例销毁之前调用。</li> <li><strong>destroyed</strong>：实例销毁之后调用，所有的事件监听和响应式绑定都被移除。</li></ul> <h4 id="_6-总结-vue-实例的诞生过程"><a href="#_6-总结-vue-实例的诞生过程" class="header-anchor">#</a> 6. <strong>总结 Vue 实例的诞生过程</strong></h4> <ol><li><strong>创建 Vue 实例</strong>：调用 <code>new Vue()</code> 时，Vue 开始初始化实例，包括将传入的选项（<code>el</code>、<code>data</code>、<code>methods</code>、<code>computed</code>、<code>watch</code> 等）挂载到实例上。</li> <li><strong>初始化响应式数据</strong>：Vue 实例会通过 <code>Object.defineProperty</code> 把 <code>data</code> 中的数据变成响应式的。当数据变化时，视图会自动更新。Vue 会为每个属性创建一个依赖收集系统，用于跟踪使用该属性的组件。</li> <li><strong>模板编译</strong>：Vue 解析模板，找到模板中的插值（例如 <code></code>）和指令（例如 <code>v-if</code>、<code>v-for</code> 等），并生成渲染函数（render function）。这一步完成了模板与数据的绑定。</li> <li><strong>挂载 DOM</strong>：如果 <code>el</code> 选项中指定了目标 DOM 元素，Vue 实例会将生成的虚拟 DOM 树挂载到真实 DOM 中。如果没有指定，Vue 实例只会在内存中创建虚拟 DOM，直到手动调用 <code>vm.$mount()</code> 挂载到实际的 DOM 节点上。</li> <li><strong>更新视图</strong>：当响应式数据发生变化时，Vue 会自动触发视图更新。Vue 的响应式系统通过侦听数据的变化，并根据这些变化重新渲染虚拟 DOM，确保视图与数据同步。</li> <li><strong>销毁实例</strong>：当不再需要 Vue 实例时，它会进入销毁阶段，解除所有绑定和事件监听器，释放内存资源，防止内存泄漏。</li></ol> <h3 id="组件化"><a href="#组件化" class="header-anchor">#</a> 组件化</h3> <ul><li><p>页面上每个独立的可交互的区域视为一个组件</p></li> <li><p>每个组件对应一个工程目录，组件所需的各种资源在这个目录下就近维护</p></li> <li><p>页面不过是组件的容器，组件可以嵌套自由组合（复用）形成完整的页面</p></li></ul> <p>每个组件实例（Vue实例）都有相应的 watcher 实例对象，它会在组件渲染（根据模板渲染数据时）把属性记录为依赖，之后当依赖项的 setter 被调用时，会通知 watcher 重新计算，从而致使它关联的组件得以更新。</p> <p><img alt="image 20241008101450682" data-src="https://s1.imagehub.cc/images/2024/11/25/8f6ad05ac606a1aa5d69b888d39e8975.png" loading="lazy" class="lazy"></p> <h3 id="实际基本介绍"><a href="#实际基本介绍" class="header-anchor">#</a> 实际基本介绍</h3> <p>渐进式js框架，渐进式是指由浅入深，可以一步步往更难的学习去使用。</p> <h4 id="安装与引入"><a href="#安装与引入" class="header-anchor">#</a> 安装与引入</h4> <p><strong>安装（使用npm）</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code># 最新稳定版$ npm install vue@^2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>引入</strong></p> <p>https://v2.cn.vuejs.org/v2/guide/installation.html</p> <h6>js文件本地引入</h6> <p>js本地文件下载地址：https://v2.cn.vuejs.org/v2/guide/installation.html</p> <p>然后在html文件中通过&lt; script&gt;&lt; /script&gt;</p> <h6>CDN引入</h6> <p>CDN的全称是“Content Delivery Network”，指的是内容分发网络。当你在前端引入文件时，例如JavaScript库或样式表，CDN可以确保这些资源从离用户最近的服务器加载，从而减少延迟和提高用户体验。所以CDN实际上就是通过多个地理位置分散的服务器来分发内容，旨在提高网站的加载速度和可用性。</p> <p>3.0</p> <p>生产环境：&lt; script src=&quot;https://unpkg.com/vue@next/dist/vue.global.prod.js&quot;&gt;&lt; /script&gt;</p> <p>开发环境：&lt; script src=&quot;https://unpkg.com/vue@next&quot;&gt;&lt; /script&gt;</p> <p>2.0</p> <p>生产环境：&lt; script src=&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.min.js&quot;&gt;&lt; /script&gt;</p> <p>开发环境：&lt; script src=&quot;https://cdn.jsdelivr.net/npm/vue@2&quot;&gt;&lt; /script&gt;</p> <h4 id="💭根据代码继续基本理解"><a href="#💭根据代码继续基本理解" class="header-anchor">#</a> 💭根据代码继续基本理解</h4> <p>这里是一些比较简单的，没有体系的，为了自我加深理解而提出的许多问题，并且进行了相应解答。</p> <p>💭在这段代码中，第二个 <code>&lt;script&gt;</code> 标签<strong>不需要</strong>再次指定 Vue 的 <code>src</code>，它会自动使用第一个 <code>&lt;script&gt;</code> 标签中加载的 Vue 库。这是因为浏览器在加载外部 JavaScript 文件（如 Vue.js）后，已经将其添加到全局作用域中，后续的 <code>&lt;script&gt;</code> 标签可以直接使用这个库中的功能和语法。</p> <p><img alt="image 20240928205209588" data-src="https://s1.imagehub.cc/images/2024/11/25/801d9bb00318f0c0477eb65aefd562ba.png" loading="lazy" class="lazy"></p> <p>💭<code>#app</code> 是一个 DOM 元素的选择器，表示 Vue 实例将挂载到该元素上。</p> <p><code>message</code> 是 Vue 实例 <code>app</code> 中的一个数据属性，具体来说，它属于 <code>data</code> 对象。你可以通过 <code>app.message</code> 来访问和修改它。这种结构让 Vue 可以监测 <code>message</code> 的变化并自动更新界面。</p> <p><strong>注意我们不再和 HTML 直接交互了。一个 Vue 应用会将其挂载到一个 DOM 元素上 (对于这个例子是 <code>#app</code>) 然后对其进行完全控制。那个 HTML 是我们的入口，但其余都会发生在新创建的 Vue 实例内部。</strong></p> <p>Vue 实例通过 <code>el</code> 选项或者手动调用 <code>$mount</code> 方法，将它的模板渲染/挂载到指定的<strong>父元素</strong>中，这个元素也是我们实例的父元素。</p> <p>💭vue实例和挂载元素的关系是什么?</p> <p>这二者的关系是Vue框架渲染和管理页面的核心机制之一。</p> <p>挂载元素是通过el选项指定，它是Vue实例渲染数据的目标DOM元素，Vue实例会接管整个DOM元素和所有它的子元素，将指定的模板渲染到这个元素上，并对其进行动态更新和数据绑定。这里的模板可以是HTML中的内容，也可以是template选项。</p> <p>💭data还是很抽象，感到难以理解？</p> <p>data是Vue实例中的选项，它用于定义与实例关联的数据。</p> <p>data是一个对象，其中的每个属性都可以在模板使用</p> <p>当你修改data中属性，vue会自动更新DOM。（数据响应式）</p> <p>💭vue实例怎样去访问数组数据呢？</p> <p><img src="https://s1.imagehub.cc/images/2024/11/25/9a7938b238fcdb046c9172b8a7a6b5d9.png" alt="image 20241018161913360" style="zoom:80%;"><img src="https://s1.imagehub.cc/images/2024/11/25/4ceb9ee2eb003d6d170d1805d5ad2484.png" alt="image 20241018161942321" style="zoom:80%;"><img src="https://s1.imagehub.cc/images/2024/11/25/c567dbe21cde644fc7ef8ae9e87b79f0.png" alt="image 20241018162004113" style="zoom:80%;"></p> <p>💭<strong>常见的挂载方式：</strong></p> <p>Vue 默认通过 <code>id</code> 选择器（例如 <code>el: '#app'</code>）来挂载实例，但它不仅限于 <code>id</code> 选择器，你可以用多种方式将 Vue 实例挂载到 DOM 元素上。Vue 允许你使用以下方式挂载实例：</p> <ol><li><em>使用 <code>el</code> 选项：</em></li></ol> <p>可以通过 <code>el</code> 绑定任意有效的 CSS 选择器，而不仅仅是 <code>id</code>。例如：</p> <ul><li><p>使用 class 选择器：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>my-app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'.my-app'</span><span class="token punctuation">,</span> <span class="token comment">// 使用类选择器</span>
  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'Hello, Vue!'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">'&lt;h1&gt;{{ message }}&lt;/h1&gt;'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li> <li><p>使用元素选择器：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'section'</span><span class="token punctuation">,</span> <span class="token comment">// 使用元素选择器</span>
  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'Hello, Vue!'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">'&lt;h1&gt;{{ message }}&lt;/h1&gt;'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li></ul> <ol start="2"><li><em>使用 <code>$mount()</code> 方法手动挂载：</em></li></ol> <p>除了 <code>el</code>，你还可以使用 <code>$mount</code> 方法手动将 Vue 实例挂载到任何 DOM 元素上。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>my-container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'Hello, World!'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">'&lt;h1&gt;{{ message }}&lt;/h1&gt;'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

vm<span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token string">'.my-container'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 手动挂载到 class 为 .my-container 的元素上</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ol start="3"><li><em>挂载到 DOM 元素对象：</em></li></ol> <p>你可以直接将 Vue 实例挂载到实际的 DOM 元素对象，而不仅仅是通过选择器。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'Mounted to a DOM element!'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">'&lt;h1&gt;{{ message }}&lt;/h1&gt;'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> domElement <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'app'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
vm<span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span>domElement<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 直接传递 DOM 元素对象</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ol start="4"><li><em>在 DOM 加载之后动态挂载</em></li></ol> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'Mounted dynamically!'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">'&lt;h1&gt;{{ message }}&lt;/h1&gt;'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 动态挂载</span>
document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'DOMContentLoaded'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  vm<span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token string">'#dynamic-app'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="methods-computed"><a href="#methods-computed" class="header-anchor">#</a> methods/computed</h4> <p>computed是计算属性，它在书写的时候也是个函数。</p> <p>不过在计算属性里写的函数你在调用的时候<strong>不能加括号</strong>。</p> <p><img src="https://s1.imagehub.cc/images/2024/11/25/4dca0ff5e09c3aa8549fbf640169fd03.png" alt="image 20241018171046892"><img src="https://s1.imagehub.cc/images/2024/11/25/8045b2ab195bb3f4610693b0fc560d7f.png" alt="image 20241018171443165" style="zoom:67%;"></p> <p>这里的output()是我们在methods定义的函数，outputContent()是我们在computed中定义的函数。</p> <p>虽然这两个函数各自写了三遍，但是前者methods会执行三次，computed中的函数只执行了一次。这是由于在我们做第一次计算时，计算属性会将计算结果在内部做一个缓存；在第二次计算时，如果数据没有变化，就不再做计算，直接拿取之前的结果，有利于优化性能。</p> <h3 id="侦听器watch"><a href="#侦听器watch" class="header-anchor">#</a> 侦听器watch</h3> <p>监听某个(响应式)数据是否有变化。</p> <p>创立之初是为了在数据变化时可以选择做更多的事情。</p> <p>watch: {</p> <p>// 监听 firstName 的变化</p> <p>firstName(newVal, oldVal) {</p> <p>​	this.fullName = newVal + ' ' + this.lastName;</p> <p>}</p> <p>}</p> <p>这里是watch侦听器提供给我们的两个参数：</p> <p><strong>newValue</strong>：数据变化后的新值。</p> <p><strong>oldValue</strong>：数据变化前的旧值。</p> <hr> <p>我们在watch里常常会配合handler一起使用，一起看看吧</p> <p>handler是Vue在watch配置中一个约定俗成的属性名，用来指定监听器的回调函数。</p> <img src="https://s1.imagehub.cc/images/2024/11/25/7b0cb9fd31d4227eb36804fc4fcea1f3.png" alt="image 20241108010005023" style="zoom:80%;"> <img src="https://s1.imagehub.cc/images/2024/11/25/815cb894836cd554f93cb3df796c8012.png" alt="image 20241108010017576" style="zoom:80%;"> <img src="https://s1.imagehub.cc/images/2024/11/25/c82bef18a8bb97f6a6ed45b6e27c5d39.png" alt="image 20241108010034006" style="zoom:80%;"> <h2 id="👧🏽渲染指令"><a href="#👧🏽渲染指令" class="header-anchor">#</a> 👧🏽渲染指令</h2> <h3 id="v-text"><a href="#v-text" class="header-anchor">#</a> v-text</h3> <p><img alt="image 20241018172413663" data-src="https://s1.imagehub.cc/images/2024/11/25/42dc8492ee48dc7b7ae8a0cbfdcc1577.png" loading="lazy" class="lazy"></p> <p>v-text会覆盖一对标签 中间 所有内容，而{{}}只是基于模板插值。</p> <blockquote><p>比起之前更加简洁，适合直接输出文本的场景。</p> <p>v-text插入的是纯文本，不会解析html元素</p></blockquote> <h3 id="v-html"><a href="#v-html" class="header-anchor">#</a> v-html</h3> <p>v-html用于将数据作为html代码插入到元素中，与v-text不同，它可以将绑定的数据解析为 HTML 片段，并动态地插入到 DOM 中。<img alt="image 20241018172901416" data-src="https://s1.imagehub.cc/images/2024/11/25/7c4933873700ea2fc8aec5aabb7036bf.png" loading="lazy" class="lazy"></p> <p>但与v-text类似的是，v-html会覆盖元素中已有的内容，将其替换为新的 HTML 片段。</p> <h3 id="v-if-v-show"><a href="#v-if-v-show" class="header-anchor">#</a> v-if/v-show</h3> <p>根据布尔值决定元素是否创建或销毁。</p> <p>不想销毁可以使用v-show</p> <p>条件渲染</p> <img src="https://s1.imagehub.cc/images/2024/11/25/eebfc32091e3f0c30be11fe5c2190f80.png" alt="image 20241008110759548" style="zoom:67%;"> <p><img alt="image 20241008110859155" data-src="https://s1.imagehub.cc/images/2024/11/25/3dbeb9f2023b7c48b685cb6d6b8c3157.png" loading="lazy" class="lazy"></p> <p>true的时候控制台上是Vue is awesome!</p> <p>false的时候输出Oh no</p> <h3 id="v-for"><a href="#v-for" class="header-anchor">#</a> v-for</h3> <p>列表渲染。当你需要根据数组或对象动态生成一组元素时可以使用v-for。</p> <img src="https://s1.imagehub.cc/images/2024/11/25/6336adaf0f27a98a5b17afd59b233d2b.png" alt="image 20241008112316122" style="zoom:80%;"> <p><img alt="image 20241008112322922" data-src="https://s1.imagehub.cc/images/2024/11/25/14b4beaab4846caa10ad359e93e466f9.png" loading="lazy" class="lazy"></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;li v-for=&quot;item in items&quot; :key=&quot;item.id&quot;&gt;  

{{ item.text }} 

&lt;/li&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3>参数</h3> <p><strong>遍历数组时：</strong></p> <p>arr:['a','b','c','d'];</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;ul&gt;
  &lt;li v-for=&quot;(item, index) in items&quot; :key=&quot;index&quot;&gt;
    {{ index }} - {{ item }}
  &lt;/li&gt;
&lt;/ul&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>item是数组中当前元素。</p> <p>index是当前元素的索引。</p> <p><strong>遍历对象时</strong>：</p> <p>在这里item是我们起的别名。:key是一个特殊的属性，用来优化Vue的虚拟DOM diff算法。在渲染大量列表时，我们最好为key指定一个唯一的标识。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;li v-for=&quot;(value, key, index) in object&quot; :key=&quot;index&quot;&gt;

  {{ index }}. {{ key }}: {{ value }}
  
&lt;/li&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;li v-for=&quot;(item, key, index) in object&quot; :key=&quot;index&quot;&gt;

  {{ index }}. {{ key }}: {{ item }}
  
&lt;/li&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>我们常常会写三个参数，至于这三个参数在对象中的关系，可以看看中间一行，已经告知key:value。index是索引。</p> <blockquote><p>我们也可以写两个参数，（key,value），依然表示key:value</p></blockquote> <h2 id="👧🏽属性指令"><a href="#👧🏽属性指令" class="header-anchor">#</a> 👧🏽属性指令</h2> <p>属性指令指的是绑定指令</p> <h3 id="v-bind"><a href="#v-bind" class="header-anchor">#</a> v-bind</h3> <p><code>v-bind</code> 是 Vue.js 中的一个指令，用于将一个数据属性绑定到一个 HTML 元素的属性上。通过使用 <code>v-bind</code>，你可以动态地更新元素的属性值，确保它们与 Vue 实例中的数据保持同步。<img alt="image 20241018175927544" data-src="https://s1.imagehub.cc/images/2024/11/25/54ec1cb08771971ca0d286099d466791.png" loading="lazy" class="lazy"></p> <p>简化</p> <p>将 <code>v-bind:</code> 简化为 <code>:</code></p> <h3 id="动态类名绑定"><a href="#动态类名绑定" class="header-anchor">#</a> 动态类名绑定</h3> <p><em>简单说说，因为vue文档讲的更为具体 https://v2.cn.vuejs.org/v2/guide/class-and-style.html</em></p> <p><strong>对象语法</strong>： 使用对象语法，你可以根据条件返回一个对象，其中键是类名，值是布尔值，表示是否应用该类。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;div :class=&quot;{ active: isActive, 'text-danger': hasError }&quot;&gt;&lt;/div&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在这个例子中：</p> <ul><li>如果 <code>isActive</code> 为 <code>true</code>，<code>active</code> 类会被添加。</li> <li>如果 <code>hasError</code> 为 <code>true</code>，<code>text-danger</code> 类会被添加。</li></ul> <h2 id="👧🏽事件指令"><a href="#👧🏽事件指令" class="header-anchor">#</a> 👧🏽事件指令</h2> <h3 id="v-on"><a href="#v-on" class="header-anchor">#</a> v-on</h3> <p><img alt="image 20241018180350371" data-src="https://s1.imagehub.cc/images/2024/11/25/e8dbef314b83be4d33d8ff684ad86db8.png" loading="lazy" class="lazy"></p> <p>这里我们监听click事件，一旦button按钮的click发生，我们就会触发greet事件</p> <h3 id="v-model"><a href="#v-model" class="header-anchor">#</a> v-model</h3> <p>v-model是负责专用于表单元素进行双向数据绑定，比如&lt; input&gt;、&lt; textarea&gt;、&lt; select&gt;。</p> <blockquote><p>之前我们都是单向绑定，是数据先更改，再更新到视图中。</p> <p>但是v-model可以让我们视图更改的时候，将值更新到数据中。</p> <p>(数据到视图，视图到数据)</p></blockquote> <blockquote><p><code>v-model</code> 会忽略所有表单元素的 <code>value</code>、<code>checked</code>、<code>selected</code> attribute 的初始值而总是将 Vue 实例的数据作为数据来源。你应该通过 JavaScript 在组件的 <code>data</code> 选项中声明初始值。</p></blockquote> <img src="https://s1.imagehub.cc/images/2024/11/25/deadba9bb0f430c0d5d0ce7d7138008b.png" alt="image 20241008213540716" style="zoom:80%;"> <p>当input输入框的值进行变化，data的message会进行变化。</p> <p>而app.message进行改变时，也就是p里面进行变化时，input输入框的值也会变化。</p> <p><img alt="image 20241008213436369" data-src="https://s1.imagehub.cc/images/2024/11/25/698977fde3872c10c2931fda7e09e4c3.png" loading="lazy" class="lazy"></p> <h2 id="🐬vue2-0-组件基础"><a href="#🐬vue2-0-组件基础" class="header-anchor">#</a> 🐬Vue2.0 组件基础</h2> <h3 id="简单终端指令"><a href="#简单终端指令" class="header-anchor">#</a> 简单终端指令</h3> <p><strong>vue项目创建</strong></p> <p><strong>vue create 项目名称</strong></p> <p>或）vue ui</p> <img src="https://s1.imagehub.cc/images/2024/11/26/df5d7f0045d374e04ab005aca1f8fb1c.png" alt="image 20241018202407033" style="zoom:80%;"> <p>在左边文件列的package.json中有scripts对象，这个对象里每一条都是指令，当你输入npm run serve或npm run build或npm run lint就会运行（你也可以自定义指令）</p> <p><strong>npm run serve</strong>打开本地静态资源服务器</p> <p><strong>npm run build</strong>打包生成dist</p> <p><strong>serve dist</strong>快速启动静态服务器运行dist</p> <h3 id="目录结构理解"><a href="#目录结构理解" class="header-anchor">#</a> 目录结构理解</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>my-vue-project/

├── node_modules/
├── public/
│   ├── favicon.ico
│   └── index.html
├── src/
│   ├── assets/
│   ├── components/
│   ├── App.vue
│   ├── main.js
├── .gitignore
├── babel.config.js
├── package.json
├── README.md
└── yarn.lock / package-lock.json
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><blockquote><p>node_modules：存放所有项目依赖包。所有通过npm或者yarn安装的依赖都会下载到这个文件夹中，这都是自动生成的，不需要修改。</p> <p>public：保存不参与编译的资源，即公共静态资源。比如网站的图标文件，index.html（这个页面是整个应用的入口，vue会将应用的内容动态插入到这个文件的根标签中）</p> <p>src：保存参与编译的资源。这里是项目的源代码目录，存放所有的vue组件即页面样式等。</p> <blockquote><p>assets：存放静态资源，图片字体等。这些资源会被webpack处理通过JS或者CSS引用。</p> <p>components:存放所有自定义Vue组件</p> <p>app.vue：项目根组件，通常作为整个应用的起始组件，Vue所有内容会从这里渲染。<code>App.vue</code> 文件使用了 Vue 的单文件组件（Single File Component，SFC）格式，里面包含了 <code>&lt;template&gt;</code>、<code>&lt;script&gt;</code> 和 <code>&lt;style&gt;</code> 部分。</p> <p>main.js：项目的入口文件。在这里初始化Vue实例，挂载到index.html的&lt; div id=&quot;app&quot;&gt;&lt; /div&gt;，再进行渲染。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>import Vue from 'vue';
import App from './App.vue';

Vue.config.productionTip = false;

new Vue({
  render: h =&gt; h(App),
}).$mount('#app');
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></blockquote> <p>package.json：文件包含项目的配置信息、依赖包、脚本等。它是nodejs的核心配置文件。</p> <p>主要包括：<img alt="image 20241018211645372" data-src="https://s1.imagehub.cc/images/2024/11/26/595b4fac27d013aed23488b88e8ef71b.png" loading="lazy" class="lazy"></p> <p>其他：<img src="https://s1.imagehub.cc/images/2024/11/26/878ac6e7e08dd695eb0112a076e94b80.png" alt="image 20241018211716173" style="zoom:77%;"></p> <img src="https://s1.imagehub.cc/images/2024/11/26/20e0428e84f3db4a72b32279cb49646a.png" alt="image 20241018211738878" style="zoom:77%;"></blockquote> <h3 id="组件通信"><a href="#组件通信" class="header-anchor">#</a> 组件通信</h3> <p>组件：封装页面部分功能的方式</p> <p>这里的组件通信大类分为父传子和子传父，</p> <blockquote><p>同级的也可以传</p> <ul><li>子传父，父传子，相当于用父做中转</li> <li>通过Eventbus来处理，用额外的vue实例做数据存储</li> <li>既不是父子关系，也不是同级关系时，中间有很多层，逐级传递很麻烦，建议使用vuex</li></ul></blockquote> <h4 id="单文件组件结构"><a href="#单文件组件结构" class="header-anchor">#</a> 单文件组件结构</h4> <p>在vue中我们使用.vue为后缀的文件，称为单文件组件。</p> <p>典型的单文件组件结构如下：（分别是结构，逻辑，样式）</p> <ul><li><p>&lt; template&gt;：定义组件的HTML模板</p></li> <li><p>&lt; script&gt;：定义组件的逻辑、数据等。</p></li> <li><p>&lt; style&gt;：定义组件的样式。</p></li></ul> <h4 id="父传子"><a href="#父传子" class="header-anchor">#</a> 父传子</h4> <p><strong>写的比较简单，可以没事先看看吴悠怎么写的，等我做项目有了更深的体会再更新</strong></p> <p>props：接受父组件给子组件设置的属性的方式</p> <p>父组件：</p> <img src="https://s1.imagehub.cc/images/2024/11/26/29945baf360a7a9e81bff580d6b13e52.png" alt="image 20241018225112501" style="zoom:80%;"> <p>定义了这几个属性或者事件（第三个countChange是涉及到子传父）</p> <p>子组件：<img src="https://s1.imagehub.cc/images/2024/11/26/075b9344809e1644570676fb61c2fc2e.png" alt="image 20241018225303337" style="zoom:80%;"></p> <p>子组件中在对象中书写了props属性，对于父传过来的msg属性我们用string属性接收，</p> <p>对于count属性由于我们有更多的定义，所以写了个对象</p> <p>​	这里面的type和default和都是vue规定的配置项，具体可以查props配置属性</p> <p>​	这里的type是说我们可以接收多个种类的参数，无论是字符串或者数字都可以</p> <p>​	default是说父组件如果对于count的值什么都没有定义，我们默认100</p> <h4 id="子传父"><a href="#子传父" class="header-anchor">#</a> 子传父</h4> <p>$emit：子组件传给父组件的函数</p> <img src="https://s1.imagehub.cc/images/2024/11/26/c62dcf982326ca554d967443d827a97c.png" alt="image 20241018225825034" style="zoom:80%;"> <blockquote><p>子组件也可以像这样直接在button上传递，第一个参数是让父组件接收的函数，第二个参数是父组件接收的参数</p> <p><img alt="image 20241112153246517" data-src="https://s1.imagehub.cc/images/2024/11/26/2d06eee447a359438392163c953bd06b.png" loading="lazy" class="lazy"></p></blockquote> <p>在子组件中我们最上面定义了button，我们监听button的点击事件，触发handler函数，这个函数内我们会改变本组件data里的值，我们想要将改变后的值传递给父组件。</p> <p>于是书写$emit方法，第一个参数负责在调用时触发事件（事件会在父组件那里接收），第二个参数作为传递的值传递给父组件。</p> <p>下面是父组件，在父组件的hellotest元素模板内，我们监听事件countChang(这个事件是子组件的$emit传给我们时触发的事件)在父组件监听到后我们触发handler（这个handler与子组件的handler完全无关，只是名字一样）</p> <p>在父组件本地的methods中的handler里我们接收到子组件传递的参数childCount，要注意这里childCount是可以直接使用值，不需要加this或者that，这里我们将childCount赋予我们本地定义的值，这个本地值是需要用this来进行访问，最后我们输出本地值。</p> <p><img alt="image 20241018230343845" data-src="https://s1.imagehub.cc/images/2024/11/26/1a1adefeda0f19eb20720cd897366d7f.png" loading="lazy" class="lazy"></p> <p>在这当中我们达到了效果，在子组件中点击按钮，触发事件，事件修改count值并且emit告诉父元素，父元素对该值进行处理。</p> <h3 id="组件插槽"><a href="#组件插槽" class="header-anchor">#</a> 组件插槽</h3> <img src="https://s1.imagehub.cc/images/2024/11/26/a81ec3563d5aa9b90be837ffa55fefff.png" alt="image 20241019103840273" style="zoom:80%;"> <h4 id="默认插槽"><a href="#默认插槽" class="header-anchor">#</a> 默认插槽</h4> <p>在app.vue中我们又书写了几对标签，第一对由于有msg，所以与其他标签文本不同</p> <p>最后一对标签没有书写文本</p> <img src="https://s1.imagehub.cc/images/2024/11/26/2d15addf85ced782d60a4917c4a79484.png" alt="image 20241019005527966" style="zoom:80%;"> <p>在子组件中，我们定义了slot标签，让父组件标签中的值都插到这里面</p> <img src="https://s1.imagehub.cc/images/2024/11/26/5467d8605c09d2d0eb2650c7740efd58.png" alt="image 20241019005716291" style="zoom:80%;"> <p>为了区分开，我给.hello加了margin-bottom:40px;</p> <img src="https://s1.imagehub.cc/images/2024/11/26/a0677dc5d9d25770f3e233278d88a7c9.png" alt="image 20241019005805883" style="zoom:80%;"> <p>重点理解渲染的顺序。</p> <h4 id="具名插槽"><a href="#具名插槽" class="header-anchor">#</a> 具名插槽</h4> <p>这时我们给子组件又放了插槽</p> <p><img alt="image 20241019010308111" data-src="https://s1.imagehub.cc/images/2024/11/26/23f4a55331bf8d55640ca4d2ea100377.png" loading="lazy" class="lazy"></p> <p>不对父组件做任何修改，看看渲染结果。</p> <img src="https://s1.imagehub.cc/images/2024/11/26/e895936ddd38313bfd7edfb796c0fe92.png" alt="image 20241019010338019" style="zoom:80%;"> <p>如果希望在父组件中修改footer插槽的内容，我们在父组件中修改如下<img alt="image 20241019010615012" data-src="https://s1.imagehub.cc/images/2024/11/26/5168c7a26d88b7224f7c5ad28a5e461b.png" loading="lazy" class="lazy"></p> <p>也可以这么写</p> <p><img alt="image 20241019010823672" data-src="https://s1.imagehub.cc/images/2024/11/26/5e2f741a592bb4dada3989361d9174e2.png" loading="lazy" class="lazy"></p> <img src="https://s1.imagehub.cc/images/2024/11/26/518765ab8ee62d340aa215eb00b9fd2d.png" alt="image 20241019010748871" style="zoom:80%;"> <h4 id="作用域插槽"><a href="#作用域插槽" class="header-anchor">#</a> 作用域插槽</h4> <p>这里比较容易搞混</p> <p>在子组件的具名插槽中，我们传递了自己本地的值，</p> <p>对于这个等式 :childPassed=&quot;childCount&quot;，等式右边是子组件中的数据，通过data或者props来绑定。</p> <p>前面的:childPassed是子组件自己的数据通过插槽传递给父组件，父组件可以在<strong>对应的</strong>插槽中通过属性访问这个值。（这里的childPassed是我们自己起的名字，父组件不需要用同样的名字来接收）</p> <img src="https://s1.imagehub.cc/images/2024/11/26/a6931904291aec90eb90ef84fd0c182c.png" alt="image 20241019104624230" style="zoom:80%;"> <p>在父组件相应的位置上，我们先通过具名插槽确定位置，然后选择用dataobj来接收，这个是我们父组件自己起的名字，之所以起这个，是因为子组件通过作用域插槽直接传递过来的是<strong>对象</strong></p> <p><img alt="image 20241019105036148" data-src="https://s1.imagehub.cc/images/2024/11/26/904366aaaccc9384f1ffe19770b9761b.png" loading="lazy" class="lazy"></p> <p><img alt="image 20241019105227931" data-src="https://s1.imagehub.cc/images/2024/11/26/19bb15d232f1325d4bb81fb12c15086a.png" loading="lazy" class="lazy"></p> <p><strong>可以看到直接输出是一个对象，而且输出的这个名字还是由我们子组件命名的，与父组件起的dataObj完全无关，看来数据完全是由子组件操控的</strong></p> <hr> <p>如果你在app.vue中这样书写</p> <p><img alt="image 20241019105457295" data-src="https://s1.imagehub.cc/images/2024/11/26/4931b3488ec41f9250427ff9ac51e648.png" loading="lazy" class="lazy"></p> <p>即我们用.来访问对象成员</p> <img src="https://s1.imagehub.cc/images/2024/11/26/ef8bbfd79f8221fed8cea483aa33f452.png" alt="image 20241019105524408" style="zoom:80%;"> <p>会输出相应的对象成员值，但是如果你在父组件中输入dataObj.childCount可是一点用没有，记得输入childPassed。</p> <blockquote><p>其实本来子组件在插槽传值的时候写的也是:childCount=&quot;childCount&quot;，我觉得分不清，这样区分一下。如果你熟练了，就完全可以这样写。</p></blockquote> <hr> <p><img alt="image 20241019105832876" data-src="https://s1.imagehub.cc/images/2024/11/26/80740fc9fb6993e6ebdc0f856fa1b4fa.png" loading="lazy" class="lazy"></p> <p>在父组件中你还可以这样写，你直接使用插值表达式输出相关值，但由于是对象，千万记得在左边用{}来接收</p> <p>如果你不写这个{}，来看看结果</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;template #footer=&quot;childPassed&quot;&gt;第一个footer{{ childPassed }}&lt;/template&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><img src="https://s1.imagehub.cc/images/2024/11/26/5ba2ce7b7681211e4ddba8f3b8191a5e.png" alt="image 20241019110015509" style="zoom:50%;"> <p>如果你正确的书写，应该得到这个</p> <img src="https://s1.imagehub.cc/images/2024/11/26/077270dd7e65decc9c104c5e8ba05d0a.png" alt="image 20241019110050561" style="zoom:60%;"> <h2 id="🐬vuerouter"><a href="#🐬vuerouter" class="header-anchor">#</a> 🐬VueRouter</h2> <h3 id="💭前置理解"><a href="#💭前置理解" class="header-anchor">#</a> 💭前置理解</h3> <p>**多页面应用(Multi-Page Application,MPA)：**是指在一个网站或者应用中，多个页面之间采用请求-响应机制进行应用。每次用户请求一个新页面时，服务器都会返回一个完整的html页面，浏览器会刷新整个页面显示新内容。</p> <p>**单页面应用 (Single Page Application，SPA)：**是一种网络应用程序架构模式，主要特点是整个应用只有一个HTML页面，所有的内容和页面切换都是通过JS（Vue）动态完成（局部刷新），而不需要重新刷新整个页面进行跳转。</p> <p>我们是通过前端路由(vue router或react router)来管理URL和页面的切换，虽然URL在变化，但实际上没有加载新页面，而是改变页面中的一部分内容。</p> <blockquote><p>单页面应用的原理：</p> <p>当应用第一次加载时，客户端会获取整个应用所需的html,css,js文件，</p> <p>然后通过JS(Vue)管理URL和组件的切换，利用前端路由库(Vue Router)进行导航。</p> <p>在需要新数据时，应用会通过AJAX等请求数据，局部渲染页面。</p> <p>单页面应用好处与坏处：（简单聊聊）</p> <p>由于只需要加载一次HTML页面和资源文件，后续无需重复加载整个页面，切换内容时速度更快，体验更流畅。</p> <p>但由于首次加载需要大量的js,css文件，初次加载时间较长。</p></blockquote> <p><strong>局部刷新与单页面应用的关系：</strong></p> <p>局部刷新是指页面的一部分内容更新，而不需要加载整个页面。我们可以通以下实现：</p> <img src="https://s1.imagehub.cc/images/2024/11/26/59096f5fc0dad3c8646b10bfbd83b726.png" alt="image 20241019223309908" style="zoom:77%;"> <p>但是局部刷新不是只有单页面应用才能用，多页面应用也可以使用AJAX等技术实现局部刷新。所以局部刷新不是单页面应用的专属功能。</p> <p>单页面应用通常会使用局部刷新，但是局部刷新不一定是单页面应用。</p> <hr> <p><strong>Vue里的路由是什么意思？</strong></p> <p>首先Vue使用Vue Router作为官方路由管理器，负责在单页面应用中管理不同页面的路径导航。</p> <p>当用户在浏览器访问某个URL时，应用程序需要展示相应的页面或视图。通过Vue Router根据这个URL显示相应的组件，从而实现页面内容的切换。（将URL与组件关联起来，这个过程叫映射）</p> <p><strong>路由</strong> 是用来管理应用程序中不同页面之间导航的机制。</p> <p>路由是指URL与视图的对应关系，路由用于将不同的URL映射到不同的组件上。</p> <blockquote><p>​    这里的映射不要与高中学的那个词搞混，这里简单理解为URL是个木偶操纵师，操纵着许多的木偶，这个木偶就是组件。</p> <p>​    用户先找到URL，浏览器根据URL的木偶线找到相对应的组件，将组件根据相应路由规则进行加载渲染。</p></blockquote> <h3 id="💭详解语句代码"><a href="#💭详解语句代码" class="header-anchor">#</a> 💭详解语句代码</h3> <p>**💭router-link:**它是a标签的增强版，用它跳转不会刷新整个页面。</p> <p>这个标签组件用于在单页面应用中创建导航链接。</p> <img src="https://s1.imagehub.cc/images/2024/11/26/3be6132badeb6a1a26f1e71eb4b264ad.png" alt="image 20241019232924190" style="zoom:67%;"> <p>这里的to属性必填，指定要导航的路径或命名路由。</p> <img src="https://s1.imagehub.cc/images/2024/11/26/4a0fdd866772af81968d8bad41d7f5f1.png" alt="image 20241019233426173" style="zoom:87%;"> <p>当用户点击 <code>&lt;router-link&gt;</code> 时：</p> <ol><li>Vue Router 会拦截这个点击事件。</li> <li>URL 会被更新（但页面不会刷新）。</li> <li>匹配到的视图组件会被渲染到<code>&lt;router-view&gt;</code>位置。</li></ol> <p>（上面的图片里有这个一行，可以找找看）</p> <p><strong>💭views文件是什么？</strong></p> <p><img alt="image 20241019234347877" data-src="https://s1.imagehub.cc/images/2024/11/26/64a2441d056653d4adfdbcf0f296fdd6.png" loading="lazy" class="lazy"></p> <p>在views文件夹中，每个文件通常代表应用中一个独立页面，例如AboutView.vue是欢迎页面，HomeView.vue是首页页面。这些组件通常与特定的路由相绑定。</p> <blockquote><p>当用户导航到某个路径，Vue Router会根据路径加载对应views文件夹中的组件。</p></blockquote> <h4 id="重点理解"><a href="#重点理解" class="header-anchor">#</a> 重点理解</h4> <p>💭在我们的router中，有这样一个属性name，它与谁是相关的呢？</p> <p><a href="https://www.imagehub.cc/image/image-20241020125817783.Cxs60a" target="_blank" rel="noopener noreferrer"><img alt="image 20241020125817783" data-src="https://s1.imagehub.cc/images/2024/11/26/a8b00abbbf94dd8dbcdd56d4461026f0.md.png" loading="lazy" class="lazy"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>1.它与路径相关，当你想要修改或者维护这个路径，你直接搜索这个名字可以找到相关路径</p> <p>2.它在app.vue中可以直接根据名字访问</p> <p>在使用 <code>router-link</code> 组件时，你可以通过 <code>to</code> 属性的对象语法来使用命名路由进行导航，而不是直接使用路径：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;router-link :to=&quot;{ name: 'home' }&quot;&gt;Go to Home&lt;/router-link&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这种方式比直接写路径（<code>/This_is_home</code>）更灵活，因为路径可能在将来发生变化，而名字通常保持不变。</p> <h3 id="新建组件配置路由"><a href="#新建组件配置路由" class="header-anchor">#</a> 新建组件配置路由</h3> <p>这是一个基础教学，但是万物都是从基础开始的。</p> <p>达成效果：想要新建一个简单页面，在导航栏可以访问到。</p> <p>1️⃣由于新建的页面很简单，不需要引入组件，所以直接在views文件里新建立一个vue</p> <p><img alt="image 20241020133349786" data-src="https://s1.imagehub.cc/images/2024/11/26/6e344695b8fa2b1b952f6ecc6223957f.png" loading="lazy" class="lazy"></p> <p>配置如下，而且为了这些样式 不应用到其他view的文件里去，需要在style标签内加入scoped</p> <p>2️⃣在router文件夹内写，我模仿了about页面的引入，只写了这一行</p> <p><img alt="image 20241020134112086" data-src="https://s1.imagehub.cc/images/2024/11/26/b7cfdad9c6c1e6543dd6beb8f28b1df0.png" loading="lazy" class="lazy"></p> <p>3️⃣在app.vue里开始展示，这里用了name来识别路由</p> <p><img alt="image 20241020134151034" data-src="https://s1.imagehub.cc/images/2024/11/26/85475fd5bb6cfcbb6789051a77b6fe25.png" loading="lazy" class="lazy"></p> <h3 id="动态路由"><a href="#动态路由" class="header-anchor">#</a> 动态路由</h3> <p>最终效果：</p> <p>当我们在App.vue里输入不同的id值，可以让最上面路径的路由跟着改变</p> <p><img alt="image 20241020141758516" data-src="https://s1.imagehub.cc/images/2024/11/26/39329cb52434a3b781815798f70b0183.png" loading="lazy" class="lazy"></p> <p>至于最下面圈出来的28只是为了更好的展示，我们的目的是为了动态改变上面的路径。</p> <p>步骤：</p> <p>1️⃣由于在app.vue内更改id时，它会先访问router文件夹里面的js文件，所以我们先修改这个。</p> <p>（这里我们使用了props，虽然一般使用props是涉及父子传值，但这里app.vue和router里的文件并不算是父子关系，app.vue是整个文件的根组件，router的文件只是app.vue配置路由的工具。</p> <p>这里使用props的原因是为了<strong>方便地将路由参数传递给组件</strong>，这并不是为了父子组件关系挂钩，而是为了简化参数传递。如果不配置props，这些参数想要获取或者修改只能通过 <code>$route</code> 对象来访问。</p> <p>而因为我们配置了props，所以我们可以直接传递参数，而无需要依赖 <code>$route</code> 对象）</p> <img src="https://s1.imagehub.cc/images/2024/11/26/0f947462aa8de2fb73645e77f0123aee.png" alt="image 20241020144146160" style="zoom:80%;"> <p><img alt="image 20241020142030465" data-src="https://s1.imagehub.cc/images/2024/11/26/51f6478ebc8f4e54208e1ba9b666bb5f.png" loading="lazy" class="lazy"></p> <p>在这里我们在path后面加了冒号，是为了动态改变这个参数叫做&quot;id&quot;的值。</p> <blockquote><p>这里的动态参数我们需要好好讲讲。</p> <p>我们的路由中想要使用动态参数，比如同一个路径内匹配不同的URL叫做<strong>动态路由</strong>。在动态路由中我们常常需要路径传递参数，比如bilibili不同的视频的URL会写BV124fsefiuqh。</p> <p>这个<strong>动态参数</strong>是随着URL的变化而变化。</p> <p>如果要在路由路径中标记动态的部分，需要使用冒号 <code>:</code>。当你一旦在路由中使用冒号:  ，Router会将后面的部分诗作动态参数，并将匹配到的值解析为参数。</p> <p>如果你在其他地方想要获取这个动态参数，可以通过 <code>this.$route.params</code> 来访问，此时动态参数就是这个params对象的属性。</p> <img src="https://s1.imagehub.cc/images/2024/11/26/4104984bc93839e53ffa87364caa8726.png" alt="image 20241020142820942" style="zoom:80%;"> <img src="https://s1.imagehub.cc/images/2024/11/27/996aee5d4a80295b392b5198fbade878.png" alt="image 20241020142847047" style="zoom:80%;"></blockquote> <p>2️⃣如何自由的修改这个id呢？</p> <p>这里我们使用了param来访问，记着param是个对象，后面还要加{}</p> <p><img alt="image 20241020143029666" data-src="https://s1.imagehub.cc/images/2024/11/26/4a8dcad20aca9fb3b0a60a16818b3d19.png" loading="lazy" class="lazy"></p> <p>3️⃣（可选）</p> <p>如果你想要在当前页面展示动态路由变化的部分，可以在响应的视图界面进行展示。</p> <p><img alt="image 20241020143153060" data-src="https://s1.imagehub.cc/images/2024/11/26/bd9bf2c4eb7513b8bb396e4c9f5778ee.png" loading="lazy" class="lazy"></p> <h3 id="嵌套路由"><a href="#嵌套路由" class="header-anchor">#</a> 嵌套路由</h3> <p>想实现效果：</p> <p><img alt="image 20241020163756784" data-src="https://s1.imagehub.cc/images/2024/11/26/7ff52f7f61949d6a006645d96c7b56d4.png" loading="lazy" class="lazy"></p> <p>在当前“bieguan”页面下，还想要增加两个页面，分别是点赞信息，互动信息。</p> <p>当我们点击“点赞信息”，会出现该页面相关信息，而且在最上面的路径也会发生变化</p> <p><img alt="image 20241020163823489" data-src="https://s1.imagehub.cc/images/2024/11/26/2bcbd6e64aaf82bd9aa3f33bd1a84523.png" loading="lazy" class="lazy"></p> <p>想要增加子页面的顺序很多，但最好形成条理，不然容易漏掉。</p> <p>1️⃣在views下新建页面</p> <p>由于我们这里两个页面是子页面，而且格式相似，所以放在一个文件夹里。</p> <img src="https://s1.imagehub.cc/images/2024/11/26/2ec95be5cd170657bbcb7e420cd7b19f.png" alt="image 20241020162849549" style="zoom:67%;"> <img src="https://s1.imagehub.cc/images/2024/11/26/9dfc0b1dfc875229c4d93a0b8915ccc0.png" alt="image 20241020164020802" style="zoom:80%;"> <p>2️⃣在router里做路由⭐</p> <p>在router文件中，我们首先在最上面根据路径引入文件</p> <p>由于我们的子文件想接着之前bieguan页面的路径，所以在该组件内我们加上**children:**相关属性，然后加上path(路径设置),name(router-link要用),component(要与上面import的组件名字一致)</p> <p><img alt="image 20241020164226265" data-src="https://s1.imagehub.cc/images/2024/11/26/98be646015d8dee67e0564a0a863ed5e.png" loading="lazy" class="lazy"></p> <p>这样子我们的路由就算配置完毕了。如果想要在页面展示，还需要继续写。</p> <p>3️⃣在父组件中配置</p> <p>这里我们并没有在根组件app.vue进行配置，是因为根组件直接引入我们的父组件即可，我们只需要在父组件中展示info1和info2</p> <p>在父组件zhuzhuview中，我们用routerlink标签通过name引入相关组件，分别是info1，info2，并且传入参数方便这两个页面的路径书写</p> <blockquote><p>在routerlink标签中间我们写入点赞信息和互动信息，这是在我们zhuzhuview的视图中展示的，等你分别点进去才能看到info1和info2的视图。</p></blockquote> <p>在底部我们加上了router-view，别忘记</p> <p><img alt="image 20241020164820256" data-src="https://s1.imagehub.cc/images/2024/11/26/cd348bbda5db06186a82c15187d81033.png" loading="lazy" class="lazy"></p> <p>在app.vue中没有做任何改动</p> <p><img alt="image 20241020165912061" data-src="https://s1.imagehub.cc/images/2024/11/26/f51ff6f3ac123170701b01b55e7b8a45.png" loading="lazy" class="lazy"></p> <p>在输入 页面之前我想要id有默认值。</p> <p>在点击之后会进行修改。</p> <h3 id="编程式导航"><a href="#编程式导航" class="header-anchor">#</a> 编程式导航</h3> <p><strong>编程式导航</strong>是指在 Vue Router 中通过 JavaScript 代码实现页面导航，而不是依赖于模板中的 <code>&lt;router-link&gt;</code> 标签或用户的点击操作。这种方式允许开发者在特定条件下控制路由跳转，例如在表单验证通过后、API 调用成功后，或在处理用户事件时。</p> <p>做一个小小的案例看看实现方式，我们的目的是想要在zhuzhuview里点击info1的点赞信息时，3s后跳转到主页home。</p> <img src="https://s1.imagehub.cc/images/2024/11/26/55dafacdce97250cd3625401040d660a.png" alt="image 20241020191022080" style="zoom:67%;"> <img src="https://s1.imagehub.cc/images/2024/11/26/60a96d78c09616e27b1373166dfad840.png" alt="image 20241020191100583" style="zoom:80%;"> <p>在这里我们通过created钩子（data methods等信息已经初始化），但是页面没有渲染（我们这里也是希望点赞信息还没有渲染时加载函数）</p> <p>这里我们插入了settimeout，指的是三秒后跳到主页。在这三秒内，页面先加载点赞信息界面，三秒后调到主页。</p> <p>这里的this.$router指的是调用router实例，push是实例的方法。</p> <p><strong>push:</strong></p> <p>在 Vue 中，<code>this.$router.push()</code> 是 <strong>Vue Router</strong> 提供的一个方法，用于编程式导航。它的作用是<strong>跳转到指定的路由</strong>，与点击 <code>&lt;router-link&gt;</code> 的效果类似，但它是通过 JavaScript 代码来实现的。</p> <h3 id="路由传参与导航守卫"><a href="#路由传参与导航守卫" class="header-anchor">#</a> 路由传参与导航守卫</h3> <p>先来介绍路由传参，指的是通过路由传递参数，以便我们在跳转新的页面或者组件时将相关的信息带过去。</p> <p>想要效果：</p> <p>在点赞信息（info1）内点击后三秒，将信息传递给互动信息（info2）</p> <img src="https://s1.imagehub.cc/images/2024/11/26/5e04159a1b247b7131cbaf6fab027a51.png" alt="image 20241020195344064" style="zoom:67%;"> <p><img alt="image 20241020195413786" data-src="https://s1.imagehub.cc/images/2024/11/26/4d5f2b2e1fafa3c3d8d0f6ced18e09f0.png" loading="lazy" class="lazy"></p> <p>在info1界面的created钩子里，push负责切换导航，query负责传递数据，这里我传的就叫“info1传递的数据”。</p> <p>在info2的相应钩子内做接收</p> <p>通过this.$route获取实例数据（this.$router更多是路由跳转相关，this.$route更多是获取路由数据相关）</p> <p><img alt="image 20241020195653493" data-src="https://s1.imagehub.cc/images/2024/11/26/8831763456c947e8078769c79559db1f.png" loading="lazy" class="lazy"></p> <h4 id="区分两种动态路由参数和查询传参"><a href="#区分两种动态路由参数和查询传参" class="header-anchor">#</a> 区分两种动态路由参数和查询传参</h4> <p><strong>路由传参</strong> 是指通过路由来传递数据或参数，以便在跳转到某个页面或组件时，将相关的信息带到新的视图中。在 Vue Router 中，路由传参主要有两种方式：</p> <p>动态路由参数（params）</p> <p>查询参数（query）</p> <p>这两种方式允许你在导航时附带额外的信息，从而在目标页面或组件中根据这些参数来做出不同的处理。</p> <h3>动态路由参数（params）</h3> <p>动态路由参数是将参数嵌入到 URL 路径中的一种方式。通常用来传递关键数据，如用户 ID、文章 ID 等。这种参数在路由的路径中通过 <code>:</code> 语法定义。</p> <p><strong>定义动态路由</strong></p> <p>例如，假设我们有一个用户详情页面，需要根据用户 ID 来展示不同用户的详情，我们可以定义一个包含动态参数的路由：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/user/:id'</span><span class="token punctuation">,</span>  <span class="token comment">// :id 表示这个部分是一个动态参数</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'user'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">component</span><span class="token operator">:</span> UserView
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>在这个例子中，<code>:id</code> 就是一个动态参数，当你访问 <code>/user/1</code> 时，<code>id</code> 参数的值就是 <code>1</code>。</p> <p><strong>编程式导航传递 <code>params</code></strong></p> <p>当你通过编程式导航（即 <code>this.$router.push()</code>）时，可以传递动态参数：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'user'</span><span class="token punctuation">,</span> <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">42</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这个代码会导航到 <code>/user/42</code>，并将 <code>id</code> 的值设为 <code>42</code>。</p> <p><strong>获取动态参数</strong></p> <p>在目标组件中，你可以通过 <code>this.$route.params</code> 来访问传递的动态参数。例如：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出 42</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3>查询参数（query）</h3> <p>查询参数是通过 URL 中的问号 <code>?</code> 后面附加的键值对，类似于 URL 的查询字符串。查询参数通常用于搜索、筛选等需要携带较多信息的场景。</p> <p><strong>定义普通路由</strong></p> <p>查询参数不需要在路由定义中显式声明，你可以在任何路由中使用查询参数。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/search'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'search'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">component</span><span class="token operator">:</span> SearchView
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>编程式导航传递 <code>query</code></strong></p> <p>当你想传递查询参数时，可以通过 <code>query</code> 属性来传递：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/search'</span><span class="token punctuation">,</span> <span class="token literal-property property">query</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">keyword</span><span class="token operator">:</span> <span class="token string">'vue'</span><span class="token punctuation">,</span> <span class="token literal-property property">page</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这个代码会导航到 <code>/search?keyword=vue&amp;page=1</code>，并传递 <code>keyword</code> 和 <code>page</code> 两个查询参数。</p> <p><strong>获取查询参数</strong></p> <p>在目标组件中，你可以通过 <code>this.$route.query</code> 来访问查询参数。例如：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>keyword<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出 'vue'</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>page<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出 1</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>动态参数与查询参数的区别</strong></p> <table><thead><tr><th>特性</th> <th>动态参数（params）</th> <th>查询参数（query）</th></tr></thead> <tbody><tr><td>URL 形式</td> <td><code>/user/42</code></td> <td><code>/search?keyword=vue&amp;page=1</code></td></tr> <tr><td>定义方式</td> <td>在路由路径中用 <code>:param</code> 定义</td> <td>不需要在路由路径中定义</td></tr> <tr><td>传递方式</td> <td><code>this.$router.push({ params })</code></td> <td><code>this.$router.push({ query })</code></td></tr> <tr><td>获取方式</td> <td><code>this.$route.params</code></td> <td><code>this.$route.query</code></td></tr> <tr><td>典型应用场景</td> <td>用户详情页、文章详情页等</td> <td>搜索、分页、筛选等</td></tr></tbody></table> <h3>总结</h3> <ul><li><strong>动态路由参数</strong> 将参数嵌入在路径中，通常用于资源的唯一标识，如 <code>/user/1</code>。</li> <li><strong>查询参数</strong> 通过 URL 后的查询字符串传递，适用于搜索、分页等可选参数的场景，如 <code>/search?keyword=vue&amp;page=1</code>。</li></ul> <p>两者各有应用场景，选择哪种传参方式取决于你要实现的功能。</p> <h4 id="导航守卫"><a href="#导航守卫" class="header-anchor">#</a> 导航守卫</h4> <p>即在导航触发之前都会进行导航守卫的触发</p> <p>这个next()必须加，不然页面不渲染</p> <p><img alt="image 20241020201011263" data-src="https://s1.imagehub.cc/images/2024/11/26/be9266818271fc722dddac9c11f745a5.png" loading="lazy" class="lazy"></p> <p>这里语句块内语句后面没加符号;或者逗号  是JS语法</p> <p>在{}内可以不加 因为可以通过换行符和}识别结束</p> <p>但最好加上</p> <h2 id="🐬vuex"><a href="#🐬vuex" class="header-anchor">#</a> 🐬Vuex</h2> <p>全局状态存储工具。</p> <h3 id="基本用法"><a href="#基本用法" class="header-anchor">#</a> 基本用法</h3> <p>vuex我是在创建项目的直接选择已创建的，</p> <p>创建好后在项目里就是这个样子</p> <p><img alt="image 20241101121953095" data-src="https://s1.imagehub.cc/images/2024/11/27/a561f7d2a11275aed360979c04bb811f.png" loading="lazy" class="lazy"></p> <h3 id="state"><a href="#state" class="header-anchor">#</a> state</h3> <p>这里采用函数写法，把state:{}改成了state(){return{}}</p> <p><strong>定义：</strong></p> <p>state的作用我们在图片里写了，并且还定义了一个变量</p> <p><img alt="image 20241101122216558" data-src="https://s1.imagehub.cc/images/2024/11/27/71f473131068a8d49fee52a74ae366cb.png" loading="lazy" class="lazy"></p> <p><strong>使用：</strong></p> <p><img alt="image 20241101122339790" data-src="https://s1.imagehub.cc/images/2024/11/27/f187459f9255a3c52c4eff3cd45fc91f.png" loading="lazy" class="lazy"></p> <p>在上图中，我们在其中一个视图页面中，在两个生命周期内都使用了state中的变量<img src="https://s1.imagehub.cc/images/2024/11/27/4054827108886aa700922033bfd03c11.png" alt="image 20241101122850969" style="zoom:67%;"></p> <p>使用的时候我们首先用的this.$store访问实例，其次要访问state，再访问变量本身</p> <blockquote><p>在使用vuex时，访问state中的数据都需要加上前缀state.名字</p></blockquote> <p><strong>展示：</strong></p> <p><img alt="image 20241101123043320" data-src="https://s1.imagehub.cc/images/2024/11/27/779ef33cb1e68ead847d9b5f6afaad95.png" loading="lazy" class="lazy"></p> <h3 id="mutations"><a href="#mutations" class="header-anchor">#</a> mutations</h3> <p>我们在修改状态，比如state当中的值时，假如你一会儿在A页面修改，一会儿在B页面修改，等将来你想要维护这个值时你都不知道自己在哪里修改。</p> <p>所以我们这里在mutations当中修改</p> <p><strong>定义：</strong></p> <p><img alt="image 20241101125215763" data-src="https://s1.imagehub.cc/images/2024/11/27/a15b0524ac03054b261502765e5c4aa0.png" loading="lazy" class="lazy"></p> <p><strong>使用：</strong></p> <p><img alt="image 20241101125328666" data-src="https://s1.imagehub.cc/images/2024/11/27/72a70f45bbbad6375231c2a3f59aa5ba.png" loading="lazy" class="lazy"></p> <p><strong><code>this.$store.commit</code></strong>：这是 Vuex 提供的方法，用于触发一个 mutation。它的第一个参数是 mutation 的名称，第二个参数是你想传递给 mutation 的数据（载荷）。</p> <h3 id="actions"><a href="#actions" class="header-anchor">#</a> actions</h3> <p>actions是做异步包装的，但是你要清楚它只是做异步的。之前我们说过mutations可以用来修改state中的变量状态，如果你现在也想去修改状态，同步的就在mutations修改，异步的也不是在actions中修改，而是利用异步操作去回调mutation里面的东西。</p> <blockquote><p><code>actions</code> 可以包含任意异步操作（例如 API 请求、定时器等），并且不能直接更改状态；它们的职责是处理业务逻辑，然后调用 mutations 来实际修改状态。</p> <p><code>actions</code> 允许你将业务逻辑与状态更新分离，从而使代码更清晰。</p></blockquote> <p><strong>定义：</strong></p> <p><img alt="image 20241101130624859" data-src="https://s1.imagehub.cc/images/2024/11/27/5050defb9049742137fd269bb594c20f.png" loading="lazy" class="lazy"></p> <blockquote><p>可以看到我们在上面的delayChangeCount函数体中，并没有对state.count进行直接修改，而是使用commit去调用mutation，利用mutation进行state.count的修改。我们的actions只是做了异步的处理，我们加上的是setTimeout( )。</p></blockquote> <p><strong>使用：</strong></p> <p><img alt="image 20241101130905370" data-src="https://s1.imagehub.cc/images/2024/11/27/51b730028ace8e3a77b991009909525e.png" loading="lazy" class="lazy"></p> <p>在我们调用actions当中的函数使用的是dispatch。英文翻译是派遣。可能意思是先派遣它去执行，结果等会儿才返回。</p> <p><strong>举例：（更复杂的actions使用）</strong></p> <div class="language-JS line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">increment</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      state<span class="token punctuation">.</span>count<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">decrement</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      state<span class="token punctuation">.</span>count<span class="token operator">--</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">incrementAsync</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> commit <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'increment'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 在异步操作完成后提交 mutation</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">decrementAsync</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> commit <span class="token punctuation">}</span><span class="token punctuation">,</span> payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'decrement'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 使用 payload 可以传递参数</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> payload<span class="token punctuation">.</span>delay<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'incrementAsync'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 调用 actions，异步增加 count</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">decrement</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'decrementAsync'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">delay</span><span class="token operator">:</span> <span class="token number">500</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 调用 actions，异步减少 count，带有参数</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="getters"><a href="#getters" class="header-anchor">#</a> getters</h3> <p><code>getters</code> 类似于 Vue 的计算属性，它们<strong>基于 state 进行计算</strong>，并在相关状态改变时自动更新。</p> <p><strong>定义：</strong></p> <p><img alt="image 20241101131950784" data-src="https://s1.imagehub.cc/images/2024/11/26/a3eaaeabd3f2a38ed629c6675b3336f3.png" loading="lazy" class="lazy"></p> <p><strong>使用：</strong></p> <p><img alt="image 20241101132057333" data-src="https://s1.imagehub.cc/images/2024/11/26/4f733a715318c5362abc8f01df0badb8.png" loading="lazy" class="lazy"></p> <p><strong>特性：</strong></p> <p>getters具有<strong>缓存性</strong></p> <p><img alt="image 20241101132345397" data-src="https://s1.imagehub.cc/images/2024/11/26/c612a08f7151dc7856c69982404419b3.png" loading="lazy" class="lazy"></p> <p><img alt="image 20241101132419408" data-src="https://s1.imagehub.cc/images/2024/11/26/fa379320f6c4179ff0154af4a04ace43.png" loading="lazy" class="lazy"></p> <p>可以看到console.log('store当中的getters执行了');只执行了一遍</p> <h3 id="modules"><a href="#modules" class="header-anchor">#</a> modules</h3> <p>需要先介绍使用场景，可以看到在上面的store当中的state、getters、mutations等等当中我们定义了许多东西，但假如这些数据都是针对用户的。</p> <p>如果我们需要再定义一些新的state、getters、mutations等等是针对产品的，那就需要一定的分类功能。</p> <p>把一些数据交给功能A（用户），把另一些数据交给功能B（产品）</p> <blockquote><p>modules将 store 划分为多个模块，使得代码更易于管理和理解。每个模块可以专注于特定的功能或部分状态。</p> <p>模块可以独立开发、测试和重用，便于团队协作。</p></blockquote> <p><strong>命名空间</strong></p> <p>默认情况下，所有模块的 state、mutations、actions 和 getters 都是全局的。为了避免命名冲突，Vuex 允许你使用命名空间。</p> <p>在模块中启用命名空间的方法是在模块的定义中添加 <code>namespaced: true</code>：</p> <div class="language-JS line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> userModule <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">namespaced</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 启用命名空间</span>
  <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">userInfo</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">setUser</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> user</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      state<span class="token punctuation">.</span>userInfo <span class="token operator">=</span> user<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ... actions 和 getters</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>启用命名空间后，你在访问模块的状态、方法时，需要加上模块的名称，例如 <code>user/setUser</code>、<code>user/fetchUser</code> 等。</p> <p><strong>或按以下书写</strong></p> <p><strong>Modules 的基本结构</strong></p> <p>下面是一个使用 Vuex modules 的示例：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//文件路径： store/modules/user.js(这是专门在modules文件夹下创建user.js文件，如果你的内容少，你也可以直接在store的index.js当中书写)</span>

<span class="token keyword">const</span> Module1 <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">userInfo</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">setUser</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> user</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      state<span class="token punctuation">.</span>userInfo <span class="token operator">=</span> user<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">fetchUser</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> commit <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 模拟异步获取用户信息</span>
      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Alice'</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">25</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'setUser'</span><span class="token punctuation">,</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">userName</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> state<span class="token punctuation">.</span>userInfo <span class="token operator">?</span> state<span class="token punctuation">.</span>userInfo<span class="token punctuation">.</span>name <span class="token operator">:</span> <span class="token string">'Guest'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>


<span class="token keyword">const</span> Module2 <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">products</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">setProducts</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> products</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      state<span class="token punctuation">.</span>products <span class="token operator">=</span> products<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">fetchProducts</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> commit <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 模拟异步获取产品信息</span>
      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> products <span class="token operator">=</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Product A'</span><span class="token punctuation">,</span> <span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Product B'</span><span class="token punctuation">,</span> <span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">200</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'setProducts'</span><span class="token punctuation">,</span> products<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">productCount</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> state<span class="token punctuation">.</span>products<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 创建 Vuex store</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">'vuex'</span><span class="token punctuation">;</span>

Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">modules</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">user</span><span class="token operator">:</span> Module1<span class="token punctuation">,</span>
    <span class="token literal-property property">products</span><span class="token operator">:</span> Module2<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> store<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br></div></div><p><strong>访问 Modules</strong></p> <p>在 Vue 组件中，你可以通过 <code>mapState</code>、<code>mapGetters</code>、<code>mapActions</code> 和 <code>mapMutations</code> 访问模块中的状态和方法：</p> <p><em>访问 state 和 getters：</em></p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>User: {{ userName }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>Total Products: {{ productCount }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> mapState<span class="token punctuation">,</span> mapGetters <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token string">'user'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'userInfo'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 访问 user 模块的 state</span>
    <span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token string">'products'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'productCount'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 访问 products 模块的 getter</span>
    <span class="token function">userName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>getters<span class="token punctuation">[</span><span class="token string">'user/userName'</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 访问 user 模块的 getter</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p><em>访问 actions 和 mutations：</em></p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fetchUser<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Fetch User<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fetchProducts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Fetch Products<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> mapActions <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token string">'user'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'fetchUser'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 访问 user 模块的 action</span>
    <span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token string">'products'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'fetchProducts'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 访问 products 模块的 action</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>小结</p> <ul><li>Vuex 的 <code>modules</code> 允许你将 store 分割成多个模块，提高代码的可维护性和可读性。</li> <li>每个模块可以有自己的 state、mutations、actions 和 getters，并且可以通过命名空间来避免命名冲突。</li> <li>使用模块化的 Vuex store 有助于组织大型应用程序的状态管理。</li></ul> <h3 id="小应用-涉及map知识点"><a href="#小应用-涉及map知识点" class="header-anchor">#</a> 小应用（涉及map知识点）</h3> <p>（如果有不懂的地方，我都在代码下方进行解释）</p> <p>这里用一个小小的计数器简单的回顾vuex的用法</p> <p>在我们的组件展示页面，</p> <div class="language-VUE line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>add<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>点击我+1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>仓库的数据{{ count }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>	//count是来自vuex中的state
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sub<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>点击我-1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">import</span> <span class="token punctuation">{</span>mapState<span class="token punctuation">}</span><span class="token keyword">from</span> <span class="token string">'vuex'</span>
    
    <span class="token keyword">export</span> <span class="token keyword">default</span><span class="token punctuation">{</span>
        <span class="token literal-property property">computed</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'count'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">methods</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        		<span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'add'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//在这里我们的点击事件是异步的，但是点击后触发的//事件是同步的，所以总体来说不算异步。但是为了应对更复杂的逻辑还是采用了actions异步的写法</span>
          	<span class="token punctuation">}</span><span class="token punctuation">,</span>
      		<span class="token function">sub</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        		<span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'sub'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     		<span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><blockquote><p>在这里我们使用了map辅助函数，它是帮助我们在vuex当中取值的。在本typora文档前面vuex的教学中都没有使用map，那我们是怎么取值的呢？</p> <p>this.$store.dispatch，或者this.$store.state.loginStatus</p> <p>这样子你取一个两个还好，取的多了很麻烦</p> <p>vuex提供了map辅助函数，包含(<code>mapState</code>、<code>mapGetters</code>、<code>mapActions</code> 和 <code>mapMutations</code>)</p> <p>关于map怎么具体引入我在本章节最后的map小分节进行介绍</p> <blockquote><p>如果你要取state当中的数据，可以在该组件中提前加载mapState，如果你要取getters当中的数据，可以提前加载mapGetters。</p> <p>引入好的数据我们需要在computed当中进行接收。（在 <code>computed</code> 计算属性中使用这些映射使得组件对 Vuex store 中的状态保持响应式，确保了数据更新的自动性和一致性，从而提高了用户体验）</p> <p>但如果你只引入mapState和mapGetter，却想要使用actions当中的数据，那你可就要使用this.$store.dispatch</p></blockquote> <p>对于引入好的数据，你可以在模板中使用插值表达式进行使用</p> <img src="https://s1.imagehub.cc/images/2024/11/26/49fcc90a1111b8705e4f19f7615ac779.png" alt="image 20241102190430208" style="zoom:77%;"> <p>也可以作为事件进行绑定</p> <img src="https://s1.imagehub.cc/images/2024/11/26/bf29046a0ec098ca06aaa2dc8ab1fae9.png" alt="image 20241102190543765" style="zoom:80%;"></blockquote> <p>在store文件夹的index.js中</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">'vuex'</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	<span class="token literal-property property">state</span><span class="token operator">:</span><span class="token punctuation">{</span>
		<span class="token literal-property property">count</span><span class="token operator">:</span><span class="token number">10</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">getters</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">mutations</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token constant">ADD</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            state<span class="token punctuation">.</span>count<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token constant">SUB</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            state<span class="token punctuation">.</span>count<span class="token operator">--</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">actions</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">const</span> commit<span class="token operator">=</span>context<span class="token punctuation">.</span>commit<span class="token punctuation">;</span>
            <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'ADD'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">sub</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>commit<span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'SUB'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">modules</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><blockquote><p>在这里actions当中的可以看到有个参数叫做context，这是vuex赋予actions的官方参数，这个参数（context）包含了与当前模块或者全局状态 相关的所有方法、属性，它还具有操作vuex状态，提交mutation等功能。</p> <img src="https://s1.imagehub.cc/images/2024/11/27/c788ee75755f7f64446169054f803618.png" alt="image 20241102184751408" style="zoom:80%;"> <p>但是你可以看到我们的add和sub的写法并不一样，这里用了解构赋值。由于context包含了很多东西，我们用{}取走其中的commit方法，直接使用。</p></blockquote> <h4 id="map"><a href="#map" class="header-anchor">#</a> map</h4> <p>map可以进行一次性引入，</p> <p><img alt="image 20241102190924335" data-src="https://s1.imagehub.cc/images/2024/11/26/b7b8750089efba28e75eaa0eda0f9803.png" loading="lazy" class="lazy"></p> <blockquote><p>为什么有的放到computed中，有的放到methods中，</p> <p>这是因为mapState和mapGetters是响应式更新的，放在computed计算属性中，vue会在组件更新时及时计算属性。状态变化时组件会自动响应式更新。</p> <p>mapActions和mapMutations是为了响应用户的交互，放在methods中符合逻辑。</p></blockquote> <p>这里的<code>...</code>是解构赋值的展开运算符，可以将对象的属性展开放到目标对象中</p></div> <footer class="page-edit" style="margin:0;"><!----> <div class="last-updated"><span class="prefix">最近更新:</span> <span class="time">8/3/2025, 3:17:24 PM</span></div></footer> <!----></div></div>  <main class="footer"> <div class="copy-right"><a target="_blank" rel="noreferrer">
          
        </a></div></main></main> <aside class="page-sidebar"> <div class="page-side-toolbar"></div>  </aside></div><div class="global-ui"><!----><!----><!----></div></div>
    <script src="/assets/js/app.d48fd230.js" defer></script><script src="/assets/js/4.2885dd4c.js" defer></script><script src="/assets/js/2.29672e38.js" defer></script><script src="/assets/js/32.0d1a3ea0.js" defer></script><script src="/assets/js/1.7d544257.js" defer></script>
  </body>
</html>
